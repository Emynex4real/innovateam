"use strict";(self.webpackChunkinnovateam=self.webpackChunkinnovateam||[]).push([[742],{7742:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var s=r(2483),a=r(3233),n=r(90),o=r(9777),i=(r(9094),r(4686));const c=new class{constructor(){console.log("Environment variables:",{REACT_APP_DEEPSEEK_API_KEY:"sk-d48455ea43fd414aba6315b75df833f6",NODE_ENV:"production"}),this.apiKey="sk-d48455ea43fd414aba6315b75df833f6",this.baseURL="https://api.deepseek.ai/v1",this.apiKey||console.error("DeepSeek API key is not configured. Please check your .env file."),this.client=i.A.create({baseURL:this.baseURL,headers:{Authorization:"Bearer ".concat(this.apiKey),"Content-Type":"application/json",Accept:"application/json"},timeout:3e4,validateStatus:function(e){return e>=200&&e<500},withCredentials:!1}),this.client.interceptors.request.use((e=>(e.headers.Authorization="Bearer ".concat(this.apiKey),console.log("Making API request with key:",this.apiKey),console.log("To URL:",e.url),e)),(e=>(console.error("Request error:",e),Promise.reject(e)))),this.client.interceptors.response.use((e=>(console.log("Response received:",{status:e.status,headers:e.headers}),e)),(e=>{if(console.error("Response error:",e),!e.response){if("ECONNABORTED"===e.code)throw new Error("Request timed out. Please try again.");if("ERR_NAME_NOT_RESOLVED"===e.code)throw new Error("Could not connect to DeepSeek API. Please check your internet connection and proxy settings.");if("ERR_NETWORK"===e.code)throw new Error("Network error. Please check your internet connection and proxy settings.");throw new Error("Network error: "+e.message)}if(401===e.response.status)throw new Error("Authentication failed. Please check your API key.");if(403===e.response.status)throw new Error("Access forbidden. Please check your API key permissions.");if(429===e.response.status)throw new Error("Rate limit exceeded. Please try again later.");if(e.response.status>=500)throw new Error("DeepSeek API server error. Please try again later.");return Promise.reject(e)}))}async generateResponse(e){try{if(!this.apiKey)throw new Error("DeepSeek API key is not configured. Please check your .env file.");console.log("Sending messages to DeepSeek API:",e);const t=await this.client.post("/chat/completions",{model:"deepseek-chat",messages:e.map((e=>({role:e.role,content:e.content}))),temperature:.7,max_tokens:1e3,stream:!1,top_p:.95});if(console.log("Received response from DeepSeek API:",{status:t.status,data:t.data}),!t.data)throw new Error("No response data received from DeepSeek API");if(!t.data.choices||!t.data.choices.length)throw new Error("No choices received in DeepSeek API response");return t.data.choices[0].message.content}catch(t){throw console.error("DeepSeek API Error:",t),t}}async generateCourseRecommendations(e,t,r){const s=[{role:"system",content:"You are a knowledgeable educational advisor specializing in Nigerian university admissions."},{role:"user",content:"Based on the following student information:\nWAEC Grades: ".concat(JSON.stringify(e),"\nJAMB Score: ").concat(t,"\nInterests and Career Goals: ").concat(r,"\n\nPlease provide detailed course recommendations considering:\n1. The student's academic performance\n2. Their JAMB score\n3. Their stated interests and career goals\n4. Potential career paths\n5. Universities that offer these courses\n\nFormat the response in a clear, structured way.")}];return this.generateResponse(s)}async generateQuestions(e){const t=[{role:"system",content:"You are an experienced educator specializing in creating educational assessments."},{role:"user",content:"Based on the following text, generate comprehensive study questions that test understanding:\n\n".concat(e,"\n\nPlease generate:\n1. Multiple choice questions\n2. Short answer questions\n3. Discussion questions\n\nFormat the questions clearly and include answers where appropriate.")}];return this.generateResponse(t)}};r(3869);var l=r(6723);const d=()=>{const{isDarkMode:e}=(0,o.D)(),[t,r]=(0,s.useState)([]),[i,d]=(0,s.useState)(""),[u,h]=(0,s.useState)(!1),p=(0,s.useRef)(null),[g,y]=(0,s.useState)([]);(0,s.useEffect)((()=>{(()=>{var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()}),[t]),(0,s.useEffect)((()=>{(async()=>{try{h(!0);const e=[{role:"system",content:"You are a knowledgeable course advisor for Nigerian universities. You help students choose suitable courses based on their interests, qualifications, and career goals. Be friendly, professional, and provide detailed, accurate advice."},{role:"user",content:"Start a friendly conversation with a student seeking university course advice in Nigeria. Introduce yourself and ask about their interests and qualifications."}],t=await c.generateResponse(e);y(e),r([{type:"bot",text:t}])}catch(e){console.error("Initialization Error:",e);let t="\ud83d\udc4b Hello! I'm your Course Advisor AI. ";e.message.includes("API key")?t+="I'm currently experiencing some technical difficulties with my connection. Please try refreshing the page or come back in a few minutes.":e.message.includes("too many requests")?t+="I'm handling a lot of requests right now. Please try again in a moment.":e.message.includes("service is currently experiencing issues")?t+="I'm temporarily unavailable. Please try again later.":t+="I'm here to help you find the perfect university course in Nigeria. Tell me about your interests and qualifications!",r([{type:"bot",text:t}])}finally{h(!1)}})()}),[]);return(0,l.jsx)("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 transition-colors duration-200 ".concat(e?"bg-dark-bg":"bg-gray-50"),children:(0,l.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,l.jsxs)("div",{className:"rounded-lg shadow-lg overflow-hidden ".concat(e?"bg-dark-surface border border-dark-border":"bg-white"),children:[(0,l.jsx)("div",{className:"p-4 ".concat(e?"bg-dark-surface-secondary border-b border-dark-border":"bg-green-600"),children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(n.p_9,{className:"text-2xl ".concat(e?"text-green-400":"text-white")}),(0,l.jsx)("h1",{className:"text-lg font-semibold ".concat(e?"text-dark-text-primary":"text-white"),children:"Course Advisor AI"})]})}),(0,l.jsxs)("div",{className:"h-[600px] overflow-y-auto p-4 space-y-4",children:[t.map(((t,r)=>(0,l.jsx)(a.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex ".concat("user"===t.type?"justify-end":"justify-start"),children:(0,l.jsxs)("div",{className:"flex items-start gap-2 max-w-[80%] ".concat("user"===t.type?"flex-row-reverse":""),children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ".concat("user"===t.type?e?"bg-green-600":"bg-green-500":e?"bg-gray-700":"bg-gray-200"),children:"user"===t.type?(0,l.jsx)(n.aSe,{className:"text-white"}):(0,l.jsx)(n.p_9,{className:e?"text-gray-300":"text-gray-600"})}),(0,l.jsx)("div",{className:"p-3 rounded-lg ".concat("user"===t.type?e?"bg-green-600 text-white":"bg-green-500 text-white":e?"bg-dark-surface-secondary text-dark-text-primary border border-dark-border":"bg-gray-100 text-gray-800"),children:(0,l.jsx)("p",{className:"whitespace-pre-wrap",children:t.text})})]})},r))),u&&(0,l.jsxs)(a.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2 ".concat(e?"text-dark-text-secondary":"text-gray-500"),children:[(0,l.jsx)(n.p_9,{className:"text-xl"}),(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsx)("span",{className:"animate-bounce",children:"."}),(0,l.jsx)("span",{className:"animate-bounce",style:{animationDelay:"0.2s"},children:"."}),(0,l.jsx)("span",{className:"animate-bounce",style:{animationDelay:"0.4s"},children:"."})]})]}),(0,l.jsx)("div",{ref:p})]}),(0,l.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),!i.trim())return;const t={role:"user",content:i};r((e=>[...e,{type:"user",text:i}])),d("");try{h(!0);const e=[...g,t],s=await c.generateResponse(e),a={role:"assistant",content:s};y([...e,a]),r((e=>[...e,{type:"bot",text:s}]))}catch(s){console.error("Chat Error:",s);let e="I apologize, but I encountered an error. ";s.message.includes("API key")?e+="There seems to be an issue with the API configuration. Please try again later.":s.message.includes("too many requests")?e+="We're experiencing high traffic. Please try again in a moment.":s.message.includes("service is currently experiencing issues")?e+="The service is temporarily unavailable. Please try again later.":e+="Could you please rephrase your message or try again?",r((t=>[...t,{type:"bot",text:e}]))}finally{h(!1)}},className:"p-4 border-t ".concat(e?"border-dark-border":"border-gray-200"),children:(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("input",{type:"text",value:i,onChange:e=>d(e.target.value),placeholder:"Type your message...",className:"flex-1 p-2 rounded-lg border ".concat(e?"bg-dark-surface-secondary border-dark-border text-dark-text-primary placeholder:text-dark-text-secondary":"bg-white border-gray-300 text-gray-900 placeholder:text-gray-500"," focus:outline-none focus:ring-2 focus:ring-green-500")}),(0,l.jsx)("button",{type:"submit",className:"p-2 rounded-lg ".concat(e?"bg-green-600 hover:bg-green-700 text-white":"bg-green-500 hover:bg-green-600 text-white"," transition-colors duration-200"),children:(0,l.jsx)(n.tUM,{className:"text-xl"})})]})})]})})})}}}]);
//# sourceMappingURL=742.283cca15.chunk.js.map