{"version":3,"file":"static/js/742.283cca15.chunk.js","mappings":"mMAsLA,MACA,EADwB,IApLxB,MACEA,WAAAA,GACEC,QAAQC,IAAI,yBAA0B,CACpCC,2BAA4BC,sCAC5BC,SAAUD,eAGZE,KAAKC,OAASH,sCAGdE,KAAKE,QAED,6BAECF,KAAKC,QACRN,QAAQQ,MAAM,oEAGhBH,KAAKI,OAASC,EAAAA,EAAMC,OAAO,CACzBJ,QAASF,KAAKE,QACdK,QAAS,CACP,cAAgB,UAADC,OAAYR,KAAKC,QAChC,eAAgB,mBAChB,OAAU,oBAEZQ,QAAS,IACTC,eAAgB,SAAUC,GACxB,OAAOA,GAAU,KAAOA,EAAS,GACnC,EAEAC,iBAAiB,IAGnBZ,KAAKI,OAAOS,aAAaC,QAAQC,KAC/BC,IAEEA,EAAOT,QAAuB,cAAC,UAAAC,OAAaR,KAAKC,QAGjDN,QAAQC,IAAI,+BAAgCI,KAAKC,QACjDN,QAAQC,IAAI,UAAWoB,EAAOC,KACvBD,KAETb,IACER,QAAQQ,MAAM,iBAAkBA,GACzBe,QAAQC,OAAOhB,MAI1BH,KAAKI,OAAOS,aAAaO,SAASL,KAChCK,IAEEzB,QAAQC,IAAI,qBAAsB,CAChCe,OAAQS,EAAST,OACjBJ,QAASa,EAASb,UAEba,KAETjB,IAIE,GAHAR,QAAQQ,MAAM,kBAAmBA,IAG5BA,EAAMiB,SAAU,CACnB,GAAmB,iBAAfjB,EAAMkB,KACR,MAAM,IAAIC,MAAM,wCAElB,GAAmB,0BAAfnB,EAAMkB,KACR,MAAM,IAAIC,MAAM,gGAElB,GAAmB,gBAAfnB,EAAMkB,KACR,MAAM,IAAIC,MAAM,4EAElB,MAAM,IAAIA,MAAM,kBAAoBnB,EAAMoB,QAC5C,CAGA,GAA8B,MAA1BpB,EAAMiB,SAAST,OACjB,MAAM,IAAIW,MAAM,qDAElB,GAA8B,MAA1BnB,EAAMiB,SAAST,OACjB,MAAM,IAAIW,MAAM,4DAElB,GAA8B,MAA1BnB,EAAMiB,SAAST,OACjB,MAAM,IAAIW,MAAM,gDAElB,GAAInB,EAAMiB,SAAST,QAAU,IAC3B,MAAM,IAAIW,MAAM,sDAGlB,OAAOJ,QAAQC,OAAOhB,EAAM,GAGlC,CAEA,sBAAMqB,CAAiBC,GACrB,IACE,IAAKzB,KAAKC,OACR,MAAM,IAAIqB,MAAM,oEAIlB3B,QAAQC,IAAI,oCAAqC6B,GAEjD,MAAML,QAAiBpB,KAAKI,OAAOsB,KAAK,oBAAqB,CAC3DC,MAAO,gBACPF,SAAUA,EAASG,KAAIC,IAAG,CACxBC,KAAMD,EAAIC,KACVC,QAASF,EAAIE,YAEfC,YAAa,GACbC,WAAY,IACZC,QAAQ,EACRC,MAAO,MAST,GALAxC,QAAQC,IAAI,uCAAwC,CAClDe,OAAQS,EAAST,OACjByB,KAAMhB,EAASgB,QAGZhB,EAASgB,KACZ,MAAM,IAAId,MAAM,+CAGlB,IAAKF,EAASgB,KAAKC,UAAYjB,EAASgB,KAAKC,QAAQC,OACnD,MAAM,IAAIhB,MAAM,gDAGlB,OAAOF,EAASgB,KAAKC,QAAQ,GAAGd,QAAQQ,OAC1C,CAAE,MAAO5B,GAEP,MADAR,QAAQQ,MAAM,sBAAuBA,GAC/BA,CACR,CACF,CAEA,mCAAMoC,CAA8BC,EAAYC,EAAWC,GACzD,MAcMjB,EAAW,CACf,CAAEK,KAAM,SAAUC,QAAS,+FAC3B,CAAED,KAAM,OAAQC,QAhBN,6DAAAvB,OACDmC,KAAKC,UAAUJ,GAAW,kBAAAhC,OAC3BiC,EAAS,kCAAAjC,OACOkC,EAAS,qSAgBnC,OAAO1C,KAAKwB,iBAAiBC,EAC/B,CAEA,uBAAMoB,CAAkBC,GACtB,MAWMrB,EAAW,CACf,CAAEK,KAAM,SAAUC,QAAS,qFAC3B,CAAED,KAAM,OAAQC,QAbN,mGAAAvB,OAEdsC,EAAI,mLAcF,OAAO9C,KAAKwB,iBAAiBC,EAC/B,G,sBC3KF,MAiOA,EAjOsBsB,KACpB,MAAM,WAAEC,IAAeC,EAAAA,EAAAA,MAChBxB,EAAUyB,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAAcC,IAAmBF,EAAAA,EAAAA,UAAS,KAC1CG,EAAUC,IAAeJ,EAAAA,EAAAA,WAAS,GACnCK,GAAiBC,EAAAA,EAAAA,QAAO,OACvBC,EAAqBC,IAA0BR,EAAAA,EAAAA,UAAS,KAM/DS,EAAAA,EAAAA,YAAU,KAJaC,MAAO,IAADC,EACL,QAAtBA,EAAAN,EAAeO,eAAO,IAAAD,GAAtBA,EAAwBE,eAAe,CAAEC,SAAU,UAAW,EAI9DJ,EAAgB,GACf,CAACpC,KAEJmC,EAAAA,EAAAA,YAAU,KACeM,WACrB,IACEX,GAAY,GACZ,MAUMY,EAAiB,CAVD,CACpBrC,KAAM,SACNC,QAAS,6OAGS,CAClBD,KAAM,OACNC,QAAS,mKAILqC,QAAwBC,EAAgB7C,iBAAiB2C,GAE/DR,EAAuBQ,GACvBjB,EAAY,CAAC,CAAEoB,KAAM,MAAOxB,KAAMsB,IACpC,CAAE,MAAOjE,GACPR,QAAQQ,MAAM,wBAAyBA,GACvC,IAAIoE,EAAkB,mDAElBpE,EAAMoB,QAAQiD,SAAS,WACzBD,GAAmB,2IACVpE,EAAMoB,QAAQiD,SAAS,qBAChCD,GAAmB,0EACVpE,EAAMoB,QAAQiD,SAAS,4CAChCD,GAAmB,uDAEnBA,GAAmB,uHAGrBrB,EAAY,CAAC,CACXoB,KAAM,MACNxB,KAAMyB,IAEV,CAAC,QACChB,GAAY,EACd,GAGFkB,EAAgB,GACf,IA0DH,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAS,iEAAAnE,OACZwC,EAAa,aAAe,cAC3B4B,UACDF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAmBC,UAChCC,EAAAA,EAAAA,MAAA,OAAKF,UAAS,wCAAAnE,OACZwC,EAAa,4CAA8C,YAC1D4B,SAAA,EAEDF,EAAAA,EAAAA,KAAA,OAAKC,UAAS,OAAAnE,OACZwC,EAAa,wDAA0D,gBACtE4B,UACDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,0BAAyBC,SAAA,EACtCF,EAAAA,EAAAA,KAACI,EAAAA,IAAc,CAACH,UAAS,YAAAnE,OAAcwC,EAAa,iBAAmB,iBACvE0B,EAAAA,EAAAA,KAAA,MAAIC,UAAS,yBAAAnE,OAA2BwC,EAAa,yBAA2B,cAAe4B,SAAC,4BAOpGC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,0CAAyCC,SAAA,CACrDnD,EAASG,KAAI,CAACL,EAASwD,KACtBL,EAAAA,EAAAA,KAACM,EAAAA,EAAOC,IAAG,CAETC,QAAS,CAAEC,QAAS,EAAGC,EAAG,IAC1BC,QAAS,CAAEF,QAAS,EAAGC,EAAG,GAC1BE,WAAY,CAAEC,SAAU,IACxBZ,UAAS,QAAAnE,OAA2B,SAAjBe,EAAQ+C,KAAkB,cAAgB,iBAAkBM,UAE/EC,EAAAA,EAAAA,MAAA,OAAKF,UAAS,sCAAAnE,OAAyD,SAAjBe,EAAQ+C,KAAkB,mBAAqB,IAAKM,SAAA,EACxGF,EAAAA,EAAAA,KAAA,OAAKC,UAAS,uEAAAnE,OACK,SAAjBe,EAAQ+C,KACJtB,EAAa,eAAiB,eAC9BA,EAAa,cAAgB,eAChC4B,SACiB,SAAjBrD,EAAQ+C,MACLI,EAAAA,EAAAA,KAACc,EAAAA,IAAa,CAACb,UAAU,gBACzBD,EAAAA,EAAAA,KAACI,EAAAA,IAAc,CAACH,UAAW3B,EAAa,gBAAkB,qBAGhE0B,EAAAA,EAAAA,KAAA,OAAKC,UAAS,kBAAAnE,OACK,SAAjBe,EAAQ+C,KACJtB,EACE,0BACA,0BACFA,EACE,6EACA,6BACL4B,UACDF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,sBAAqBC,SAAErD,EAAQuB,aA1B3CiC,KA+BRzB,IACCuB,EAAAA,EAAAA,MAACG,EAAAA,EAAOC,IAAG,CACTC,QAAS,CAAEC,QAAS,GACpBE,QAAS,CAAEF,QAAS,GACpBR,UAAS,2BAAAnE,OACPwC,EAAa,2BAA6B,iBACzC4B,SAAA,EAEHF,EAAAA,EAAAA,KAACI,EAAAA,IAAc,CAACH,UAAU,aAC1BE,EAAAA,EAAAA,MAAA,OAAKF,UAAU,aAAYC,SAAA,EACzBF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,iBAAgBC,SAAC,OACjCF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,iBAAiBc,MAAO,CAAEC,eAAgB,QAASd,SAAC,OACpEF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,iBAAiBc,MAAO,CAAEC,eAAgB,QAASd,SAAC,aAI1EF,EAAAA,EAAAA,KAAA,OAAKiB,IAAKnC,QAIZkB,EAAAA,EAAAA,KAAA,QAAMkB,SAnIO1B,UAEnB,GADA2B,EAAEC,kBACG1C,EAAa2C,OAAQ,OAE1B,MAAMC,EAAc,CAClBlE,KAAM,OACNC,QAASqB,GAIXF,GAAY+C,GAAQ,IAAIA,EAAM,CAAE3B,KAAM,OAAQxB,KAAMM,MACpDC,EAAgB,IAEhB,IACEE,GAAY,GAGZ,MAAM2C,EAAa,IAAIxC,EAAqBsC,GAGtC5E,QAAiBiD,EAAgB7C,iBAAiB0E,GAGlDC,EAAmB,CACvBrE,KAAM,YACNC,QAASX,GAGXuC,EAAuB,IAAIuC,EAAYC,IAGvCjD,GAAY+C,GAAQ,IAAIA,EAAM,CAAE3B,KAAM,MAAOxB,KAAM1B,KAErD,CAAE,MAAOjB,GACPR,QAAQQ,MAAM,cAAeA,GAC7B,IAAIiG,EAAe,4CAEfjG,EAAMoB,QAAQiD,SAAS,WACzB4B,GAAgB,iFACPjG,EAAMoB,QAAQiD,SAAS,qBAChC4B,GAAgB,iEACPjG,EAAMoB,QAAQiD,SAAS,4CAChC4B,GAAgB,kEAEhBA,GAAgB,uDAGlBlD,GAAY+C,GAAQ,IAAIA,EAAM,CAC5B3B,KAAM,MACNxB,KAAMsD,KAEV,CAAC,QACC7C,GAAY,EACd,GA8EoCoB,UAAS,gBAAAnE,OACrCwC,EAAa,qBAAuB,mBACnC4B,UACDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,aAAYC,SAAA,EACzBF,EAAAA,EAAAA,KAAA,SACEJ,KAAK,OACL+B,MAAOjD,EACPkD,SAAWT,GAAMxC,EAAgBwC,EAAEU,OAAOF,OAC1CG,YAAY,uBACZ7B,UAAS,gCAAAnE,OACPwC,EACI,2GACA,mEAAkE,4DAG1E0B,EAAAA,EAAAA,KAAA,UACEJ,KAAK,SACLK,UAAS,kBAAAnE,OACPwC,EACI,6CACA,6CAA4C,mCAChB4B,UAElCF,EAAAA,EAAAA,KAAC+B,EAAAA,IAAa,CAAC9B,UAAU,yBAM/B,C","sources":["services/deepseek.service.js","pages/dashboard/course-advisor/index.jsx"],"sourcesContent":["import axios from 'axios';\r\n\r\nclass DeepSeekService {\r\n  constructor() {\r\n    console.log('Environment variables:', {\r\n      REACT_APP_DEEPSEEK_API_KEY: process.env.REACT_APP_DEEPSEEK_API_KEY,\r\n      NODE_ENV: process.env.NODE_ENV\r\n    });\r\n    \r\n    this.apiKey = process.env.REACT_APP_DEEPSEEK_API_KEY;\r\n    \r\n    // Use proxy in development, direct URL in production\r\n    this.baseURL = process.env.NODE_ENV === 'development' \r\n      ? '/api/deepseek' \r\n      : 'https://api.deepseek.ai/v1';\r\n    \r\n    if (!this.apiKey) {\r\n      console.error('DeepSeek API key is not configured. Please check your .env file.');\r\n    }\r\n\r\n    this.client = axios.create({\r\n      baseURL: this.baseURL,\r\n      headers: {\r\n        'Authorization': `Bearer ${this.apiKey}`,\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      },\r\n      timeout: 30000,\r\n      validateStatus: function (status) {\r\n        return status >= 200 && status < 500;\r\n      },\r\n      // Remove withCredentials since we're using a proxy\r\n      withCredentials: false\r\n    });\r\n\r\n    this.client.interceptors.request.use(\r\n      config => {\r\n        // Add API key to headers for each request\r\n        config.headers['Authorization'] = `Bearer ${this.apiKey}`;\r\n        \r\n        // Log request details\r\n        console.log('Making API request with key:', this.apiKey);\r\n        console.log('To URL:', config.url);\r\n        return config;\r\n      },\r\n      error => {\r\n        console.error('Request error:', error);\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n\r\n    this.client.interceptors.response.use(\r\n      response => {\r\n        // Log successful response\r\n        console.log('Response received:', {\r\n          status: response.status,\r\n          headers: response.headers\r\n        });\r\n        return response;\r\n      },\r\n      error => {\r\n        console.error('Response error:', error);\r\n        \r\n        // Network errors\r\n        if (!error.response) {\r\n          if (error.code === 'ECONNABORTED') {\r\n            throw new Error('Request timed out. Please try again.');\r\n          }\r\n          if (error.code === 'ERR_NAME_NOT_RESOLVED') {\r\n            throw new Error('Could not connect to DeepSeek API. Please check your internet connection and proxy settings.');\r\n          }\r\n          if (error.code === 'ERR_NETWORK') {\r\n            throw new Error('Network error. Please check your internet connection and proxy settings.');\r\n          }\r\n          throw new Error('Network error: ' + error.message);\r\n        }\r\n\r\n        // HTTP errors\r\n        if (error.response.status === 401) {\r\n          throw new Error('Authentication failed. Please check your API key.');\r\n        }\r\n        if (error.response.status === 403) {\r\n          throw new Error('Access forbidden. Please check your API key permissions.');\r\n        }\r\n        if (error.response.status === 429) {\r\n          throw new Error('Rate limit exceeded. Please try again later.');\r\n        }\r\n        if (error.response.status >= 500) {\r\n          throw new Error('DeepSeek API server error. Please try again later.');\r\n        }\r\n\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  async generateResponse(messages) {\r\n    try {\r\n      if (!this.apiKey) {\r\n        throw new Error('DeepSeek API key is not configured. Please check your .env file.');\r\n      }\r\n\r\n      // Log the messages being sent\r\n      console.log('Sending messages to DeepSeek API:', messages);\r\n\r\n      const response = await this.client.post('/chat/completions', {\r\n        model: 'deepseek-chat',\r\n        messages: messages.map(msg => ({\r\n          role: msg.role,\r\n          content: msg.content\r\n        })),\r\n        temperature: 0.7,\r\n        max_tokens: 1000,\r\n        stream: false,\r\n        top_p: 0.95\r\n      });\r\n\r\n      // Log the response data\r\n      console.log('Received response from DeepSeek API:', {\r\n        status: response.status,\r\n        data: response.data\r\n      });\r\n\r\n      if (!response.data) {\r\n        throw new Error('No response data received from DeepSeek API');\r\n      }\r\n\r\n      if (!response.data.choices || !response.data.choices.length) {\r\n        throw new Error('No choices received in DeepSeek API response');\r\n      }\r\n\r\n      return response.data.choices[0].message.content;\r\n    } catch (error) {\r\n      console.error('DeepSeek API Error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async generateCourseRecommendations(waecGrades, jambScore, interests) {\r\n    const prompt = `Based on the following student information:\r\nWAEC Grades: ${JSON.stringify(waecGrades)}\r\nJAMB Score: ${jambScore}\r\nInterests and Career Goals: ${interests}\r\n\r\nPlease provide detailed course recommendations considering:\r\n1. The student's academic performance\r\n2. Their JAMB score\r\n3. Their stated interests and career goals\r\n4. Potential career paths\r\n5. Universities that offer these courses\r\n\r\nFormat the response in a clear, structured way.`;\r\n\r\n    const messages = [\r\n      { role: 'system', content: 'You are a knowledgeable educational advisor specializing in Nigerian university admissions.' },\r\n      { role: 'user', content: prompt }\r\n    ];\r\n\r\n    return this.generateResponse(messages);\r\n  }\r\n\r\n  async generateQuestions(text) {\r\n    const prompt = `Based on the following text, generate comprehensive study questions that test understanding:\r\n\r\n${text}\r\n\r\nPlease generate:\r\n1. Multiple choice questions\r\n2. Short answer questions\r\n3. Discussion questions\r\n\r\nFormat the questions clearly and include answers where appropriate.`;\r\n\r\n    const messages = [\r\n      { role: 'system', content: 'You are an experienced educator specializing in creating educational assessments.' },\r\n      { role: 'user', content: prompt }\r\n    ];\r\n\r\n    return this.generateResponse(messages);\r\n  }\r\n}\r\n\r\nconst deepseekService = new DeepSeekService();\r\nexport default deepseekService; ","import React, { useState, useRef, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { AiOutlineRobot, AiOutlineSend, AiOutlineUser } from 'react-icons/ai';\r\nimport { useDarkMode } from '../../../contexts/DarkModeContext';\r\nimport { useAuth } from '../../../contexts/AuthContext';\r\nimport deepseekService from '../../../services/deepseek.service';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst CourseAdvisor = () => {\r\n  const { isDarkMode } = useDarkMode();\r\n  const [messages, setMessages] = useState([]);\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const [conversationHistory, setConversationHistory] = useState([]);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    const initializeChat = async () => {\r\n      try {\r\n        setIsTyping(true);\r\n        const systemMessage = {\r\n          role: 'system',\r\n          content: 'You are a knowledgeable course advisor for Nigerian universities. You help students choose suitable courses based on their interests, qualifications, and career goals. Be friendly, professional, and provide detailed, accurate advice.'\r\n        };\r\n        \r\n        const userMessage = {\r\n          role: 'user',\r\n          content: 'Start a friendly conversation with a student seeking university course advice in Nigeria. Introduce yourself and ask about their interests and qualifications.'\r\n        };\r\n\r\n        const initialHistory = [systemMessage, userMessage];\r\n        const initialResponse = await deepseekService.generateResponse(initialHistory);\r\n        \r\n        setConversationHistory(initialHistory);\r\n        setMessages([{ type: 'bot', text: initialResponse }]);\r\n      } catch (error) {\r\n        console.error('Initialization Error:', error);\r\n        let fallbackMessage = \"👋 Hello! I'm your Course Advisor AI. \";\r\n        \r\n        if (error.message.includes('API key')) {\r\n          fallbackMessage += \"I'm currently experiencing some technical difficulties with my connection. Please try refreshing the page or come back in a few minutes.\";\r\n        } else if (error.message.includes('too many requests')) {\r\n          fallbackMessage += \"I'm handling a lot of requests right now. Please try again in a moment.\";\r\n        } else if (error.message.includes('service is currently experiencing issues')) {\r\n          fallbackMessage += \"I'm temporarily unavailable. Please try again later.\";\r\n        } else {\r\n          fallbackMessage += \"I'm here to help you find the perfect university course in Nigeria. Tell me about your interests and qualifications!\";\r\n        }\r\n\r\n        setMessages([{ \r\n          type: 'bot', \r\n          text: fallbackMessage\r\n        }]);\r\n      } finally {\r\n        setIsTyping(false);\r\n      }\r\n    };\r\n\r\n    initializeChat();\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!inputMessage.trim()) return;\r\n\r\n    const userMessage = {\r\n      role: 'user',\r\n      content: inputMessage\r\n    };\r\n\r\n    // Add user message to UI\r\n    setMessages(prev => [...prev, { type: 'user', text: inputMessage }]);\r\n    setInputMessage('');\r\n    \r\n    try {\r\n      setIsTyping(true);\r\n\r\n      // Update conversation history\r\n      const newHistory = [...conversationHistory, userMessage];\r\n      \r\n      // Get AI response\r\n      const response = await deepseekService.generateResponse(newHistory);\r\n      \r\n      // Add AI response to conversation history\r\n      const assistantMessage = {\r\n        role: 'assistant',\r\n        content: response\r\n      };\r\n      \r\n      setConversationHistory([...newHistory, assistantMessage]);\r\n      \r\n      // Add AI response to UI messages\r\n      setMessages(prev => [...prev, { type: 'bot', text: response }]);\r\n\r\n    } catch (error) {\r\n      console.error('Chat Error:', error);\r\n      let errorMessage = \"I apologize, but I encountered an error. \";\r\n      \r\n      if (error.message.includes('API key')) {\r\n        errorMessage += \"There seems to be an issue with the API configuration. Please try again later.\";\r\n      } else if (error.message.includes('too many requests')) {\r\n        errorMessage += \"We're experiencing high traffic. Please try again in a moment.\";\r\n      } else if (error.message.includes('service is currently experiencing issues')) {\r\n        errorMessage += \"The service is temporarily unavailable. Please try again later.\";\r\n      } else {\r\n        errorMessage += \"Could you please rephrase your message or try again?\";\r\n      }\r\n\r\n      setMessages(prev => [...prev, { \r\n        type: 'bot', \r\n        text: errorMessage\r\n      }]);\r\n    } finally {\r\n      setIsTyping(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`min-h-screen p-4 sm:p-6 lg:p-8 transition-colors duration-200 ${\r\n      isDarkMode ? 'bg-dark-bg' : 'bg-gray-50'\r\n    }`}>\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        <div className={`rounded-lg shadow-lg overflow-hidden ${\r\n          isDarkMode ? 'bg-dark-surface border border-dark-border' : 'bg-white'\r\n        }`}>\r\n          {/* Header */}\r\n          <div className={`p-4 ${\r\n            isDarkMode ? 'bg-dark-surface-secondary border-b border-dark-border' : 'bg-green-600'\r\n          }`}>\r\n            <div className=\"flex items-center gap-3\">\r\n              <AiOutlineRobot className={`text-2xl ${isDarkMode ? 'text-green-400' : 'text-white'}`} />\r\n              <h1 className={`text-lg font-semibold ${isDarkMode ? 'text-dark-text-primary' : 'text-white'}`}>\r\n                Course Advisor AI\r\n              </h1>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Chat Messages */}\r\n          <div className=\"h-[600px] overflow-y-auto p-4 space-y-4\">\r\n            {messages.map((message, index) => (\r\n              <motion.div\r\n                key={index}\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.3 }}\r\n                className={`flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`}\r\n              >\r\n                <div className={`flex items-start gap-2 max-w-[80%] ${message.type === 'user' ? 'flex-row-reverse' : ''}`}>\r\n                  <div className={`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${\r\n                    message.type === 'user' \r\n                      ? isDarkMode ? 'bg-green-600' : 'bg-green-500'\r\n                      : isDarkMode ? 'bg-gray-700' : 'bg-gray-200'\r\n                  }`}>\r\n                    {message.type === 'user' \r\n                      ? <AiOutlineUser className=\"text-white\" />\r\n                      : <AiOutlineRobot className={isDarkMode ? 'text-gray-300' : 'text-gray-600'} />\r\n                    }\r\n                  </div>\r\n                  <div className={`p-3 rounded-lg ${\r\n                    message.type === 'user'\r\n                      ? isDarkMode \r\n                        ? 'bg-green-600 text-white' \r\n                        : 'bg-green-500 text-white'\r\n                      : isDarkMode\r\n                        ? 'bg-dark-surface-secondary text-dark-text-primary border border-dark-border'\r\n                        : 'bg-gray-100 text-gray-800'\r\n                  }`}>\r\n                    <p className=\"whitespace-pre-wrap\">{message.text}</p>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n            {isTyping && (\r\n              <motion.div\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                className={`flex items-center gap-2 ${\r\n                  isDarkMode ? 'text-dark-text-secondary' : 'text-gray-500'\r\n                }`}\r\n              >\r\n                <AiOutlineRobot className=\"text-xl\" />\r\n                <div className=\"flex gap-1\">\r\n                  <span className=\"animate-bounce\">.</span>\r\n                  <span className=\"animate-bounce\" style={{ animationDelay: '0.2s' }}>.</span>\r\n                  <span className=\"animate-bounce\" style={{ animationDelay: '0.4s' }}>.</span>\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n\r\n          {/* Input Form */}\r\n          <form onSubmit={handleSubmit} className={`p-4 border-t ${\r\n            isDarkMode ? 'border-dark-border' : 'border-gray-200'\r\n          }`}>\r\n            <div className=\"flex gap-2\">\r\n              <input\r\n                type=\"text\"\r\n                value={inputMessage}\r\n                onChange={(e) => setInputMessage(e.target.value)}\r\n                placeholder=\"Type your message...\"\r\n                className={`flex-1 p-2 rounded-lg border ${\r\n                  isDarkMode \r\n                    ? 'bg-dark-surface-secondary border-dark-border text-dark-text-primary placeholder:text-dark-text-secondary'\r\n                    : 'bg-white border-gray-300 text-gray-900 placeholder:text-gray-500'\r\n                } focus:outline-none focus:ring-2 focus:ring-green-500`}\r\n              />\r\n              <button\r\n                type=\"submit\"\r\n                className={`p-2 rounded-lg ${\r\n                  isDarkMode\r\n                    ? 'bg-green-600 hover:bg-green-700 text-white'\r\n                    : 'bg-green-500 hover:bg-green-600 text-white'\r\n                } transition-colors duration-200`}\r\n              >\r\n                <AiOutlineSend className=\"text-xl\" />\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CourseAdvisor;"],"names":["constructor","console","log","REACT_APP_DEEPSEEK_API_KEY","process","NODE_ENV","this","apiKey","baseURL","error","client","axios","create","headers","concat","timeout","validateStatus","status","withCredentials","interceptors","request","use","config","url","Promise","reject","response","code","Error","message","generateResponse","messages","post","model","map","msg","role","content","temperature","max_tokens","stream","top_p","data","choices","length","generateCourseRecommendations","waecGrades","jambScore","interests","JSON","stringify","generateQuestions","text","CourseAdvisor","isDarkMode","useDarkMode","setMessages","useState","inputMessage","setInputMessage","isTyping","setIsTyping","messagesEndRef","useRef","conversationHistory","setConversationHistory","useEffect","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","async","initialHistory","initialResponse","deepseekService","type","fallbackMessage","includes","initializeChat","_jsx","className","children","_jsxs","AiOutlineRobot","index","motion","div","initial","opacity","y","animate","transition","duration","AiOutlineUser","style","animationDelay","ref","onSubmit","e","preventDefault","trim","userMessage","prev","newHistory","assistantMessage","errorMessage","value","onChange","target","placeholder","AiOutlineSend"],"sourceRoot":""}