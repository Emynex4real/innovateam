"use strict";(self.webpackChunkinnovateam=self.webpackChunkinnovateam||[]).push([[727],{526:(e,a,r)=>{r.d(a,{A:()=>m});var s=r(9379),t=r(3986),o=r(2483),n=r(4541),d=r(4956),l=r(6723);const i=["className","variant","size","asChild"],c=o.forwardRef((e,a)=>{let{className:r,variant:o="default",size:c="default",asChild:m=!1}=e,u=(0,t.A)(e,i);const g=m?n.DX:"button";return(0,l.jsx)(g,(0,s.A)({className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===o,"bg-destructive text-destructive-foreground hover:bg-destructive/90":"destructive"===o,"border border-input bg-background hover:bg-accent hover:text-accent-foreground":"outline"===o,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===o,"hover:bg-accent hover:text-accent-foreground":"ghost"===o,"bg-green-500 text-white hover:bg-green-600":"success"===o,"h-10 px-4 py-2":"default"===c,"h-9 rounded-md px-3":"sm"===c,"h-11 rounded-md px-8":"lg"===c},r),ref:a},u))});c.displayName="Button";const m=c},1649:(e,a,r)=>{r.d(a,{A:()=>m});var s=r(9379),t=r(3986),o=r(2483),n=r(5272),d=r(4956),l=r(6723);const i=["className","orientation","decorative"],c=o.forwardRef((e,a)=>{let{className:r,orientation:o="horizontal",decorative:c=!0}=e,m=(0,t.A)(e,i);return(0,l.jsx)(n.b,(0,s.A)({ref:a,decorative:c,orientation:o,className:(0,d.cn)("shrink-0 bg-border","horizontal"===o?"h-[1px] w-full":"h-full w-[1px]",r)},m))});c.displayName=n.b.displayName;const m=c},2196:(e,a,r)=>{r.d(a,{Ay:()=>w,BT:()=>y,Wu:()=>x,ZB:()=>p,aR:()=>f,wL:()=>b});var s=r(9379),t=r(3986),o=r(2483),n=r(4956),d=r(6723);const l=["className"],i=["className"],c=["className"],m=["className"],u=["className"],g=["className"],h=o.forwardRef((e,a)=>{let{className:r}=e,o=(0,t.A)(e,l);return(0,d.jsx)("div",(0,s.A)({ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r)},o))});h.displayName="Card";const f=o.forwardRef((e,a)=>{let{className:r}=e,o=(0,t.A)(e,i);return(0,d.jsx)("div",(0,s.A)({ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r)},o))});f.displayName="CardHeader";const p=o.forwardRef((e,a)=>{let{className:r}=e,o=(0,t.A)(e,c);return(0,d.jsx)("h3",(0,s.A)({ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r)},o))});p.displayName="CardTitle";const y=o.forwardRef((e,a)=>{let{className:r}=e,o=(0,t.A)(e,m);return(0,d.jsx)("p",(0,s.A)({ref:a,className:(0,n.cn)("text-sm text-muted-foreground",r)},o))});y.displayName="CardDescription";const x=o.forwardRef((e,a)=>{let{className:r}=e,o=(0,t.A)(e,u);return(0,d.jsx)("div",(0,s.A)({ref:a,className:(0,n.cn)("p-6 pt-0",r)},o))});x.displayName="CardContent";const b=o.forwardRef((e,a)=>{let{className:r}=e,o=(0,t.A)(e,g);return(0,d.jsx)("div",(0,s.A)({ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",r)},o))});b.displayName="CardFooter";const w=h},7848:(e,a,r)=>{r.d(a,{p:()=>i});var s=r(9379),t=r(3986),o=r(2483),n=r(4956),d=r(6723);const l=["className","type"],i=o.forwardRef((e,a)=>{let{className:r,type:o}=e,i=(0,t.A)(e,l);return(0,d.jsx)("input",(0,s.A)({type:o,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:a},i))});i.displayName="Input"},8727:(e,a,r)=>{r.r(a),r.d(a,{default:()=>j});var s=r(9379),t=r(2483),o=r(5469),n=r(5745),d=r(3233),l=r(3869),i=r(4304),c=r(9777),m=r(2196),u=r(526),g=r(7848),h=r(9154),f=r(3986),p=r(4956),y=r(6723);const x=["className"],b=t.forwardRef((e,a)=>{let{className:r}=e,t=(0,f.A)(e,x);return(0,y.jsx)("textarea",(0,s.A)({className:(0,p.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:a},t))});b.displayName="Textarea";const w=b;var v=r(1649);const N=(0,t.memo)(()=>{const{user:e,updateProfile:a,logout:r}=(0,o.As)(),{isDarkMode:f}=(0,c.D)(),[p,x]=((0,t.useRef)(null),(0,t.useState)({name:"",email:"",phone:"",address:"",birthdate:"",currentPassword:"",newPassword:"",confirmPassword:"",avatar:""})),[b,N]=(0,t.useState)({}),[j,P]=(0,t.useState)(0),[A,k]=(0,t.useState)(!1),[C,R]=(0,t.useState)(!1),[S,F]=(0,t.useState)(!1),[D,E]=(0,t.useState)(0),[I,z]=(0,t.useState)(!1),[B,O]=(0,t.useState)(!1),L=()=>{const e={};return p.name.trim()||(e.name="Name is required"),p.email||(e.email="Please enter an email"),p.email&&!/\S+@\S+\.\S+/.test(p.email)&&(e.email="Invalid email"),p.phone&&!/^[\d\s-+()]+$/.test(p.phone)&&(e.phone="Invalid phone"),C&&(p.currentPassword||(e.currentPassword="Current password is required"),p.newPassword?p.newPassword.length<8&&(e.newPassword="Password must be at least 8 characters"):e.newPassword="New password is required",p.newPassword!==p.confirmPassword&&(e.confirmPassword="Passwords do not match")),e};(0,t.useEffect)(()=>{(()=>{let e=0;p.name.trim()&&e++,p.email&&e++,p.phone&&e++,p.address&&e++,p.birthdate&&e++,E(Math.round(e/5*100))})()},[p]),(0,t.useEffect)(()=>{e&&x(a=>(0,s.A)((0,s.A)({},a),{},{name:e.name||"",email:e.email||"",phone:e.phone||"",address:e.address||"",birthdate:e.birthdate||"",avatar:e.avatar||""}))},[e]),(0,t.useEffect)(()=>{p.newPassword?P((e=>{let a=0;return e.length>=8&&a++,/[A-Z]/.test(e)&&a++,/[0-9]/.test(e)&&a++,/[^A-Za-z0-9]/.test(e)&&a++,a})(p.newPassword)):P(0)},[p.newPassword]),(0,t.useEffect)(()=>{const e=(0,i.debounce)(()=>{localStorage.setItem("profileFormData",JSON.stringify({name:p.name,email:p.email,phone:p.phone,address:p.address,birthdate:p.birthdate}))},500);return e(),()=>e.cancel()},[p.name,p.email,p.phone,p.address,p.birthdate]),(0,t.useEffect)(()=>{const e=localStorage.getItem("profileFormData");e&&x(a=>(0,s.A)((0,s.A)({},a),JSON.parse(e)))},[]);const Z=(0,t.useCallback)(e=>{const{name:a,value:r}=e.target;x(e=>(0,s.A)((0,s.A)({},e),{},{[a]:r})),N(e=>(0,s.A)((0,s.A)({},e),{},{[a]:""}))},[]);return e?(0,y.jsxs)("div",{className:"min-h-screen p-6 transition-colors duration-200 ".concat(f?"bg-dark-surface text-dark-text-primary":"bg-gray-50 text-gray-800"),children:[(0,y.jsx)(l.l$,{position:"top-right"}),(0,y.jsxs)(d.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto",children:[(0,y.jsxs)(m.Ay,{className:f?"bg-dark-surface-secondary border-dark-border":"",children:[(0,y.jsxs)(m.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[(0,y.jsx)(m.ZB,{className:"text-2xl font-bold ".concat(f?"text-dark-text-primary":"text-gray-800"),children:"Profile Settings"}),(0,y.jsx)(u.A,{onClick:()=>O(!B),variant:f?"secondary":"outline",className:"flex items-center gap-2",children:B?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.Bc_,{className:"w-4 h-4"}),(0,y.jsx)("span",{children:"Save"})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.WXf,{className:"w-4 h-4"}),(0,y.jsx)("span",{children:"Edit"})]})})]}),(0,y.jsx)(v.A,{className:f?"bg-dark-border":""}),(0,y.jsx)(m.Wu,{className:"p-6",children:(0,y.jsx)("form",{onSubmit:async e=>{e.preventDefault();const r=L();if(Object.keys(r).length>0)return N(r),void Object.values(r).forEach(e=>l.oR.error(e));F(!0);try{if("function"!==typeof a)return console.warn("updateProfile is not a function. Check AuthContext implementation."),void l.oR.error("Profile update is not available. Please try again later.");await a({name:p.name,email:p.email,phone:p.phone,address:p.address,birthdate:p.birthdate,avatar:p.avatar}),l.oR.success("Profile updated successfully!"),localStorage.removeItem("profileFormData"),O(!1)}catch(s){const e=s.message||"Failed to update profile. Please try again.";l.oR.error(e),console.error("Profile update error:",s)}finally{F(!1)}},className:"space-y-6",children:(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(h.A,{htmlFor:"name",children:"Full Name"}),(0,y.jsx)(g.p,{type:"text",id:"name",name:"name",value:p.name,onChange:Z,disabled:!B,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700 placeholder-gray-400 dark:placeholder-gray-500 ".concat(B?"":"cursor-not-allowed opacity-75")})]}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(h.A,{htmlFor:"email",children:"Email Address"}),(0,y.jsx)(g.p,{type:"email",id:"email",name:"email",value:p.email,onChange:Z,disabled:!B,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700 placeholder-gray-400 dark:placeholder-gray-500 ".concat(B?"":"cursor-not-allowed opacity-75")})]}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(h.A,{htmlFor:"phone",children:"Phone Number"}),(0,y.jsx)(g.p,{type:"tel",id:"phone",name:"phone",value:p.phone,onChange:Z,disabled:!B,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700 placeholder-gray-400 dark:placeholder-gray-500 ".concat(B?"":"cursor-not-allowed opacity-75")})]}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(h.A,{htmlFor:"address",children:"Address"}),(0,y.jsx)(w,{id:"address",name:"address",value:p.address,onChange:Z,disabled:!B,rows:3,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700 placeholder-gray-400 dark:placeholder-gray-500 ".concat(B?"":"cursor-not-allowed opacity-75")})]}),B&&(0,y.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,y.jsx)(u.A,{type:"button",variant:"outline",onClick:()=>{window.confirm("Are you sure you want to reset all changes?")&&(x({name:(null===e||void 0===e?void 0:e.name)||"",email:(null===e||void 0===e?void 0:e.email)||"",phone:(null===e||void 0===e?void 0:e.phone)||"",address:(null===e||void 0===e?void 0:e.address)||"",birthdate:(null===e||void 0===e?void 0:e.birthdate)||"",avatar:(null===e||void 0===e?void 0:e.avatar)||"",currentPassword:"",newPassword:"",confirmPassword:""}),N({}),localStorage.removeItem("profileFormData"),l.oR.success("Form reset successfully."))},children:"Reset"}),(0,y.jsx)(u.A,{type:"submit",variant:"default",className:"bg-green-500 hover:bg-green-600",children:"Save Changes"})]})]})})}),(0,y.jsxs)(m.wL,{className:"flex justify-between",children:[(0,y.jsx)(u.A,{variant:"destructive",onClick:()=>{window.confirm("Are you sure you want to log out?")&&(r(),l.oR.success("Logged out successfully."))},children:"Logout"}),C?(0,y.jsx)(u.A,{variant:"outline",onClick:()=>R(!1),children:"Cancel Password Change"}):(0,y.jsx)(u.A,{variant:"outline",onClick:()=>R(!0),children:"Change Password"})]})]}),C&&(0,y.jsxs)(m.Ay,{className:"mt-6 ".concat(f?"bg-dark-surface-secondary border-dark-border":""),children:[(0,y.jsx)(m.aR,{children:(0,y.jsx)(m.ZB,{className:f?"text-dark-text-primary":"",children:"Change Password"})}),(0,y.jsxs)(m.Wu,{className:"space-y-4",children:[(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(h.A,{htmlFor:"currentPassword",children:"Current Password"}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(g.p,{type:A?"text":"password",id:"currentPassword",name:"currentPassword",value:p.currentPassword,onChange:Z,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700 placeholder-gray-400 dark:placeholder-gray-500"}),(0,y.jsx)(u.A,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>k(!A),children:A?(0,y.jsx)(n._NO,{}):(0,y.jsx)(n.Vap,{})})]})]}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(h.A,{htmlFor:"newPassword",children:"New Password"}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(g.p,{type:A?"text":"password",id:"newPassword",name:"newPassword",value:p.newPassword,onChange:Z,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700 placeholder-gray-400 dark:placeholder-gray-500"}),(0,y.jsx)("div",{className:"mt-2 flex gap-1",children:[...Array(4)].map((e,a)=>(0,y.jsx)("div",{className:"h-1 flex-1 rounded-full ".concat(a<j?"bg-green-500":f?"bg-dark-border":"bg-gray-200")},a))})]})]}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(h.A,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,y.jsx)(g.p,{type:A?"text":"password",id:"confirmPassword",name:"confirmPassword",value:p.confirmPassword,onChange:Z,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700 placeholder-gray-400 dark:placeholder-gray-500"})]})]}),(0,y.jsxs)(m.wL,{className:"flex justify-end gap-4",children:[(0,y.jsx)(u.A,{type:"button",variant:"outline",onClick:()=>R(!1),children:"Cancel"}),(0,y.jsx)(u.A,{type:"button",variant:"default",className:"bg-green-500 hover:bg-green-600",onClick:async e=>{e.preventDefault();const r=L();if(r.currentPassword||r.newPassword||r.confirmPassword)return N(r),void Object.values(r).forEach(e=>l.oR.error(e));if(window.confirm("Are you sure you want to change your password?")){F(!0);try{if("function"!==typeof a)return console.warn("updateProfile is not a function. Check AuthContext implementation."),void l.oR.error("Password change is not available. Please try again later.");await a({currentPassword:p.currentPassword,newPassword:p.newPassword}),l.oR.success("Password changed successfully!"),x(e=>(0,s.A)((0,s.A)({},e),{},{currentPassword:"",newPassword:"",confirmPassword:""})),R(!1)}catch(t){const e=t.message||"Failed to change password. Please try again.";l.oR.error(e),console.error("Password change error:",t)}finally{F(!1)}}},disabled:S,children:S?"Updating...":"Update Password"})]})]})]})]}):(0,y.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-dark-surface",children:(0,y.jsx)(d.P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-t-green-500 border-gray-200 rounded-full"})})});N.displayName="Profile";const j=N},9154:(e,a,r)=>{r.d(a,{A:()=>m});var s=r(9379),t=r(3986),o=r(2483),n=r(6961),d=r(4956),l=r(6723);const i=["className"],c=o.forwardRef((e,a)=>{let{className:r}=e,o=(0,t.A)(e,i);return(0,l.jsx)(n.b,(0,s.A)({ref:a,className:(0,d.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r)},o))});c.displayName=n.b.displayName;const m=c}}]);
//# sourceMappingURL=727.13f4cf6f.chunk.js.map